Старая и одна из первых версий бекенда для https://github.com/XuliGan4eg2006/mtusi_timetable <br>
Частично переделанная версия бека на расте: https://github.com/XuliGan4eg2006/mtusiServer_Rust <br>

# Install and run 

```git clone ...``` <br>
```docker compose build``` <br> 
```docker compose up``` <br>

Вуаля, скрипт сам скачает таблицу, распарсит и запустит веб сервер, но если что дамп расписания есть в репозитории

## Логика работы
1. Сначала запускаются контейнеры с postgresql (для хранения токенов fcm) и redis (для хранения уже спаршенного расписания)

2. После запускается контейнер redis_init, который скачивает расписание и парсит его в редис

3. Следуюущим запускается apiserver и сервис для отправки уведомлений, который я не успел доделать( 


Примеры json ответов:
<details>
  <summary>/timetable/<группа></summary>
    
  ```{"0":[],"1":["ОУП.12 Физическая культура \n Карташов В.А. ~ с/з","Перемена 10 минут","ОУП.04 Иностранный язык \n  Алпатова И.Д. ~ 313","Перемена 30 минут","ОУП.03уМатематика \nКривоносова Д.В. ~ 209","Перемена 30 минут","ОУП.09 История\nНикитина Д.В. ~ 321","Перемена 10 минут"],"2":["ОУП.04 Иностранный язык \n  Алпатова И.Д. ~ 313","Перемена 10 минут","ОУП.06у Физика  \n Ларин В.А. ~ 321","Перемена 30 минут"],"3":["ОУП.03у Математика\nКривоносова Д.В. ~ 218","Перемена 10 минут","ОУП.13 Основы безопасности жизнедеятельности \nКачурин И.А ~ 305","Перемена 30 минут","ОУП.03у Математика\n Кривоносова Д.В. ~ 218","Перемена 30 минут","ОУП.10 Обществознание                                        М.-Залесская А.Ю. ~ 117л","Перемена 10 минут"],"4":["ОУП.05у Информатика \nСлобоздина Н.И. ~ 222","Перемена 10 минут","ОУП.03у Математика \nКривоносова Д.В. ~ 219","Перемена 30 минут","ОУП.02 Литература\n  Сазонова В.С.   ~ 307","Перемена 30 минут","ОУП.01 Русский язык \nКруглова Е.С.\n\n ~ 304","Перемена 10 минут"],"5":["ДЕНЬ \nСАМОСТОЯТЕЛЬНОЙ\n ПОДГОТОВКИ ~ None","Перемена 10 минут"]}```
</details>

<details>
  <summary>/app_version/</summary>
    
  ```{"actual_version":3}```
</details>

<details>
  <summary>/groups/</summary>
    
  ```{"groups":["ИСП9-123А"," ИСП9-123Б"," ИСП9-123В"," ИСП9-123Г"," ИСП9-123П"," ОИБ9-123А"," ОИБ9-123Б"," ОИБ9-123В"," ИСС9-123А"," ИСС9-123Б"," ССА9-123А"," ССА9-123Б"," ССА9-123В"," СР9-123"," ССА11-123П"," ИСП11-123АП"," ИСП11-123БП"," ОИБ11-123П"," ИСС9-222А"," ИСС9-222Б"," ИСС9-222В"," Р9-222А"," Р9-222Б"," ОИБ9-222А"," ОИБ9-222Б"," ОИБ9-222В"," ОИБ9-222П"," ИСП9-222А"," ИСП9-222Б"," ИСП9-222АП"," ИСП9-222БП"," ИСП9-222ВП"," ССА9-222А"," ССА9-222Б"," ССА9-222В"," ССА9-222П"," ИСП11-222АП"," ИСП11-222БП"," ИСП11-222ВП"," ИСП9-321А"," ИСП9-321Б"," ИСП9-321АП"," ИСП9-321БП"]}```
</details>

<details>
  <summary>/insert_token/<fcm токен></summary>
    
  ```{"status": "ok"}```
  потом чё-нить сделаем
</details>
